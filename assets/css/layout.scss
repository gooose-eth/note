@import "./libs/mixins";

// heading title
.heading-title {
	font-size: 0;
	width: 0;
	height: 0;
	overflow: hidden;
	margin: 0;
	position: absolute;
	visibility: hidden;
}

// header
.header {
	--color-header-fill: #222;
	--color-header-button-active: #eee;
	--color-header-bg: rgba(255,255,255,.75);
	--color-header-line: rgba(0,0,0,.15);
	--size-header-height: 50px;

	&:before {
		content: '';
		display: block;
		height: var(--size-header-height);
	}
	&__wrap {
		position: fixed;
		z-index: 10;
		left: 0;
		right: 0;
		top: 0;
		height: var(--size-header-height);
		background: var(--color-header-bg);
		user-select: none;
		@include background-blur(5px);
		&:before {
			content: '';
			display: block;
			position: absolute;
			left: 0;
			right: 0;
			bottom: 0;
			height: 1px;
			background: var(--color-header-line);
			pointer-events: none;
			transform: scaleY(.5);
			transform-origin: 0 100%;
		}
	}
	&__body {
		display: flex;
		justify-content: center;
	}
	&__logo {
		margin: 0;
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		display: flex;
		justify-content: center;
		a {
			position: relative;
			z-index: 2;
			display: block;
			padding: 8px;
			@include button-touch-options();
		}
		img {
			display: block;
			width: 68px;
		}
	}
	&__navigation {
		position: absolute;
		top: 0;
		bottom: 0;
		left: 0;
		width: var(--size-header-height);
		height: var(--size-header-height);
		> button {
			display: block;
			border: none;
			width: 100%;
			height: 100%;
			outline: none;
			background-color: rgba(#000, 0);
			transition: background-color 200ms ease-out;
			font-size: 0;
			@include button-touch-options();
			svg {
				display: block;
				position: absolute;
				left: 50%;
				top: 50%;
				color: var(--color-header-fill);
				pointer-events: none;
				transition: transform .3s ease-out;
				transform-origin: 50% 50%;
				&:nth-child(1) {
					transform: translate(-50%, -50%) scale(1);
				}
				&:nth-child(2) {
					transform: translate(-50%, -50%) scale(0);
				}
			}
			&:active {
				background: var(--color-header-button-active);
			}
		}
		> div {
			position: relative;
			opacity: 0;
			pointer-events: none;
		}
		&.active {
			> button {
				background: var(--color-header-button-active);
				svg {
					&:nth-child(1) {
						transform: translate(-50%, -50%) scale(0);
					}
					&:nth-child(2) {
						transform: translate(-50%, -50%) scale(1);
					}
				}
			}
			> div {
				opacity: 1;
				pointer-events: auto;
			}
		}
	}
	&__search {
		position: absolute;
		top: 0;
		bottom: 0;
		right: 0;
		width: var(--size-header-height);
		height: var(--size-header-height);
		> button {
			display: block;
			border: none;
			width: 100%;
			height: 100%;
			outline: none;
			background: rgba(0,0,0,0);
			transition: background .2s ease-out;
			font-size: 0;
			@include button-touch-options();
			svg {
				display: block;
				position: absolute;
				left: 50%;
				top: 50%;
				color: var(--color-header-fill);
				pointer-events: none;
				transition: transform .3s ease-out;
				transform-origin: 50% 50%;
				&:nth-child(1) {
					transform: translate(-50%, -50%) scale(1);
				}
				&:nth-child(2) {
					transform: translate(-50%, -50%) scale(0);
				}
			}
			&:active {
				background: var(--color-header-button-active);
			}
			&.on {
				svg {
					color: var(--color-key);
				}
			}
		}
		> div {
			position: relative;
			opacity: 0;
			pointer-events: none;
		}
		&.active {
			> button {
				background: var(--color-header-button-active);
				svg {
					&:nth-child(1) {
						transform: translate(-50%, -50%) scale(0);
					}
					&:nth-child(2) {
						transform: translate(-50%, -50%) scale(1);
					}
				}
			}
			> div {
				opacity: 1;
				pointer-events: auto;
			}
		}
	}

	@include responsive(tablet) {
		--size-header-height: 48px;
		&__wrap {
			display: flex;
		}
		&__logo {
			position: relative;
			width: 110px;
			box-sizing: border-box;
			a {
				position: absolute;
				left: 25px;
				top: 4px;
				padding: 5px;
			}
			img {
				width: 64px;
			}
		}
		&__navigation {
			position: static;
			width: auto;
			height: auto;
			margin: 0 0 0 15px;
			> button {
				display: none;
			}
			> div {
				opacity: 1;
				pointer-events: auto;
				position: static;
			}
		}
		&__search {
			> button {
				cursor: pointer;
			}
		}
	}
	@include dark-mode() {
		--color-header-fill: #fff;
		--color-header-button-active: #111;
		--color-header-bg: rgba(20,20,20,.75);
		--color-header-line: rgba(0,0,0,.2);
	}
}
.header-navigation {
	ul {
		margin: 0;
		padding: 30px 0;
		box-sizing: border-box;
		list-style: none;
		position: fixed;
		left: 0;
		right: 0;
		display: flex;
		align-items: center;
		flex-wrap: wrap;
		background: var(--color-header-button-active);
	}
	li {
		position: relative;
		width: 50%;
	}
	a {
		display: block;
		box-sizing: border-box;
		padding: 8px 12px 8px 24px;
		text-decoration: none;
		color: var(--color-text);
		font-size: 14px;
		font-weight: 600;
		font-family: var(--font-eng);
		border-radius: 0;
		-webkit-tap-highlight-color: transparent;
		&:active {
			opacity: .5;
		}
	}
	li.on {
		a {
			cursor: default;
			color: var(--color-key);
			&:active {
				opacity: 1;
			}
		}
	}
	@include responsive(tablet) {
		ul {
			position: static;
			background: none;
			padding: 0;
			flex-wrap: initial;
			&:before {
				display: none;
			}
		}
		li {
			position: static;
			width: auto;
		}
		a {
			display: flex;
			align-items: center;
			margin: 0;
			padding: 0 15px;
			font-size: 13px;
			height: var(--size-header-height);
			transition: opacity .2s ease-out;
			&:hover {
				opacity: .5;
			}
		}
		li.on {
			a {
				&:hover {
					opacity: 1;
				}
			}
		}
	}
}
.header-search {
	--size-dropdown: 54px;
	form {
		margin: 0;
		position: fixed;
		left: 0;
		right: 0;
		padding: 0;
		background: var(--color-header-button-active);
		display: flex;
		align-items: center;
	}
	fieldset {
		position: relative;
		margin: 0;
		padding: 0;
		border: none;
		flex: 1;
	}
	legend {
		font-size: 0;
		width: 0;
		height: 0;
		margin: 0;
		position: absolute;
		overflow: hidden;
	}
	span {
		position: relative;
		display: block;
		box-sizing: border-box;
		input {
			display: block;
			width: 100%;
			height: var(--size-dropdown);
			box-sizing: border-box;
			border: none;
			background: none;
			outline: none;
			color: var(--color-text);
			padding: 0 20px;
			&::placeholder {
				color: var(--color-text-blur);
			}
		}
		button {
			position: absolute;
			right: -10px;
			top: 0;
			display: block;
			width: var(--size-dropdown);
			height: 100%;
			background: none;
			border: none;
			font-size: 0;
			outline: none;
			transition: opacity .15s ease-out;
			pointer-events: none;
			opacity: 0;
			svg {
				color: var(--color-text-blur);
				width: 18px;
				height: 18px;
			}
			&:active {
				opacity: .5;
			}
		}
		&.is-word {
			input {
				padding-right: 48px;
			}
			button {
				pointer-events: auto;
				opacity: 1;
				cursor: pointer;
			}
		}
	}
	button[type=submit] {
		position: relative;
		display: block;
		width: calc(var(--size-dropdown) - 4px);
		height: var(--size-dropdown);
		background: none;
		border: none;
		font-size: 0;
		box-sizing: border-box;
		outline: none;
		cursor: pointer;
		&:active {
			opacity: .5;
		}
		svg {
			color: var(--color-header-fill);
		}
	}
	@include responsive(tablet) {
		form {
			left: auto;
			width: 340px;
			border-bottom-left-radius: 4px;
		}
	}
}

// footer
.footer {
	padding: 50px 0 20px;
	user-select: none;
	&__copyright {
		text-align: center;
		margin: 0;
		font-size: 11px;
		color: var(--color-text-blur);
		font-family: var(--font-eng);
	}

	@include responsive(tablet) {
		padding: 72px 0 24px;
	}
}

// container
.container {
	padding: 32px 0 0;
	@include responsive(tablet) {
		padding: 52px 0 0;
	}
}

// error
.error {
	padding: 0;
	text-align: center;

	&__image {
		margin: 0;
		img {
			display: block;
			width: 60vw;
			min-width: 240px;
			margin: 0 auto;
		}
	}
	&__code {
		margin: 10px 0 0;
		font-size: 14px;
		font-family: var(--font-code);
		line-height: 1;
	}
	&__message {
		margin: 5px 0 0;
		font-size: 24px;
		font-family: var(--font-eng);
		line-height: 1.25;
	}

	@include responsive(tablet) {
		&__image {
			img {
				width: 40vw;
				max-width: 400px;
			}
		}
	}
}
